<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>民法 Unit15</title>
  <style>
    :root{--base-font:16px;--bg:#f7f8fb; --paper:#fff; --text:#111827; --muted:#6b7280; --line:#e5e7eb; --accent:#2563eb; --ok:#16a34a; --ng:#dc2626;}
    body{margin:0;font-family: system-ui, -apple-system, "Segoe UI", "Noto Sans JP", sans-serif;background:var(--bg);color:var(--text);font-size:var(--base-font);}
    /* ===== header ===== */
    header{position:sticky;top:0;background:rgba(247,248,251,.92);backdrop-filter: blur(8px);border-bottom:1px solid var(--line);z-index:10;}
    header .wrap{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;justify-content:space-between;gap:12px;align-items:center;}
    header h1{font-size:16px;margin:0;font-weight:700;}
    header a{color:var(--accent);text-decoration:none;font-size:13px;}
    /* ===== header 2-row layout ===== */
    header .wrap{max-width:1100px;margin:0 auto;padding:12px 16px;display:block; /* ←2段にする */}
    /* ===== header 1行目ナビ ===== */
    .hrow1{display:flex;align-items:center;justify-content:space-between;gap:16px;}
    .hnav{display:flex;gap:24px;font-size:14px;}
    .hnav a{color:var(--accent);text-decoration:none;font-weight:500;}
    .hnav a:hover{text-decoration:underline;}
    .hrow2{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
    .hsize{display:flex;gap:6px;align-items:center;}
    .hsize .btn{padding:6px 9px;border-radius:10px;font-size:12px;}
    .hrow2 .btn{padding:6px 9px;border-radius:10px;font-size:12px;}
    /* header tools (進捗＋全操作) */
    .htools{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end;}
    .hprog{font-size:12px;color:var(--muted);border:1px solid var(--line);background:#fff;padding:5px 10px;border-radius:999px;white-space:nowrap;}
    .btn.small{padding:6px 9px;border-radius:10px;font-size:12px;}
    /* ===== main ===== */
    main{max-width:1100px;margin:16px auto;padding:0 16px 40px;}
    .list{display:grid;gap:10px;}
    .q{background:var(--paper);border:1px solid var(--line);border-radius:12px;padding:12px 14px;scroll-margin-top:70px;}
    /* ===== 問題ヘッダ ===== */
    .qhead{position:relative;display:block;}
    /* 解答ボタン右上固定 */
    .qhead > .btn{position:absolute;top:0;right:0;}
    /* 左エリア */
    .left{width:100%;padding-right:90px; /* ボタン幅分確保 */}
    /* 問題番号 */
    .qid{font-size:12px;color:var(--muted);white-space:nowrap;}
    /* 問題文 */
    .qtext{line-height:1.75;margin:6px 0 0;padding-left:1.6em;text-indent:-1.6em;}
    /* ===== multi-step check（問題文上） ===== */
    .qcheck{display:flex;align-items:center;gap:8px;margin:6px 0 6px 0;}
    .qstep{width:24px;height:24px;border:1px solid var(--line);border-radius:6px;background:#fff;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:13px;line-height:1;}
    .qstep[data-level="0"]{color:var(--muted);}
    .qstep[data-level="1"]{border-color:#bbf7d0;background:#f0fdf4;color:var(--ok);font-weight:700;}
    .qstep[data-level="2"]{border-color:#bfdbfe;background:#eff6ff;color:var(--accent);font-weight:700;}
    /* ===== meta ===== */
    .meta{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
    .pill{display:inline-flex;align-items:center;gap:6px;font-size:12px;padding:3px 10px;border:1px solid var(--line);border-radius:999px;background:#fff;}
    .pill a{color:var(--accent);text-decoration:none;}
    /* ===== button ===== */
    .btn{appearance:none;border:1px solid var(--line);background:#fff;color:var(--text);padding:7px 10px;border-radius:10px;font-size:12px;cursor:pointer;white-space:nowrap;}
    /* ===== dialog ===== */
    dialog{width:min(820px, 92vw);border:none;border-radius:14px;padding:0;box-shadow:0 20px 50px rgba(0,0,0,.18);}
    dialog::backdrop{background:rgba(0,0,0,.35);}
    .dlg-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid var(--line);background:#fff;}
    .dlg-title{font-weight:700;font-size:14px;}
    .dlg-body{padding:14px;background:#fff;}
    .dlg-body p{margin:0 0 10px;line-height:1.75;}
    .dlg-foot{padding:12px 14px;border-top:1px solid var(--line);background:#fff;display:flex;justify-content:flex-end;gap:10px;}
    .badge{display:inline-flex;align-items:center;font-size:12px;padding:3px 10px;border-radius:999px;border:1px solid var(--line);background:#fff;margin-bottom:10px;}
    .badge.ok{border-color:#bbf7d0;background:#f0fdf4;color:var(--ok);}
    .badge.ng{border-color:#fecaca;background:#fef2f2;color:var(--ng);}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Noto Sans Mono CJK JP", monospace;}
    .q.lv1 .qtext{color:#D3D3D3;   /* グレー */}
    .fsbtn{padding:4px 6px;border-radius:10px;font-size:0.80em;}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="hrow1">
      <h1>民法 Unit15</h1>
      <div class="hnav">
        <a href="pu_index.html">トップへ</a>
        <a href="pu26min14q.html">前へ</a>
        <a href="pu26min16q.html">次へ</a>
        <a href="pu26min15.html#top">テキストへ</a>
      </div>
    </div>
    <div class="hrow2">
      <div class="hsize">
        <button class="btn" id="btn-font-dec">-</button>
        <button class="btn" id="btn-font-std">Aa</button>
        <button class="btn" id="btn-font-inc">+</button>
      </div>
      <button class="btn" id="btn-clear">reset</button>
      <button class="btn" id="btn-all1">全済</button>
      <button class="btn" id="btn-all2">全再</button>
    </div>
  </div>
</header>
<main><div class="list">

    <!-- 1 -->
    <section class="q" id="q-h28-22-5h14-06-oh04-14-a">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H28-22-5)(H14-06-オ)(H04-14-ア)</div>
          <p class="qtext">1　Aが死亡した後、Cは、Bに無断で、Aの遺産である甲土地につきCが単独で相続した旨の登記をし、甲土地をDに売却してその旨の所有権の移転の登記をした。この場合に、Bは、Dに対し、登記なくして甲土地の2分の1の持分の取得を対抗することができない。Aが死亡した当時、Aには、亡妻との間の子であるB及びCがいたが、他に親族はいなかったものとする。(H28-22-5)(H14-06-オ)(H04-14-ア)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h28-22-5h14-06-oh04-14-a">解答・解説</button>
      </div>
    </section>

    <!-- 2 -->
    <section class="q" id="q-h09-10-1">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H09-10-1)</div>
          <p class="qtext">2　甲不動産はAとBの共有であるが、登記簿上はAの単独所有とされていたところ、Aは、Cとの間で甲不動産の売買契約を締結し、Cへの所有権移転登記を経由した。甲不動産をAとBが相続により取得した場合において、AがBに無断で単独所有の登記を経由したときは、甲不動産がAとBの共有であることをCが知らなかった場合でも、Bは、Cに対し、相続によって取得した自己の持分を主張することができる。(H09-10-1)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h09-10-1">解答・解説</button>
      </div>
    </section>

    <!-- 3 -->
    <section class="q" id="q-h13-06-1h17-24-a">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H13-06-1)(H17-24-ア)</div>
          <p class="qtext">3　AとBはCの子であり、Cが死亡した場合(AとB以外に相続人はいない。)においてCが同人名義の甲土地を有していたという事例に関して。Bが甲土地につき勝手に単独相続の登記をし、これをDに売却して所有権移転登記をした後、AとBが甲土地をAの単独所有とする遺産分割協議をした場合、Aは、Dに対し、その所有権移転登記の全部の抹消を請求することができる。(H13-06-1)(H17-24-ア)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h13-06-1h17-24-a">解答・解説</button>
      </div>
    </section>

    <!-- 4 -->
    <section class="q" id="q-h13-06-2">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H13-06-2)</div>
          <p class="qtext">4　Bが甲土地につきAB各持分2分の1の共同相続の登記をし、自己の持分をDに売却して持分移転登記をした後、AとBが甲土地をAの単独所有とする遺産分割協議をした場合、Aは、Dに対し、その持分移転登記の抹消を請求することができる。(H13-06-2)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h13-06-2">解答・解説</button>
      </div>
    </section>

    <!-- 5 -->
    <section class="q" id="q-r05-07-ah06-18-oh04-14-u">
      <div class="qhead">
        <div class="left">
          <div class="qid">(R05-07-ア)(H06-18-オ)(H04-14-ウ)</div>
          <p class="qtext">5　甲土地を所有するAが死亡し、その子B及びCがAを共同相続した場合において、BC間でBが甲土地を単独で取得する旨の遺産分割協議が成立したが、Cが甲土地を共同相続したものとして所有権の移転の登記をした上で、自己の法定相続分に相当する持分をDに売却してその旨の登記をしたときは、Bは、Dに対し、単独での甲土地の所有権の取得を対抗することができない。(R05-07-ア)(H06-18-オ)(H04-14-ウ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-r05-07-ah06-18-oh04-14-u">解答・解説</button>
      </div>
    </section>

    <!-- 6 -->
    <section class="q" id="q-h28-22-2">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H28-22-2)</div>
          <p class="qtext">6　Aが死亡した後、B及びCは、遺産分割協議において、BがAの遺産である甲土地の所有権を取得することに合意した。その後、Cは、Dに対し、甲土地の2分の1の持分を売却し、その旨の所有権の移転の登記をした。この場合に、Bは、Dに対し、登記なくして甲土地全部の所有権の取得を対抗することができる。Aが死亡した当時、Aには、亡妻との間の子であるB及びCがいたが、他に親族はいなかったものとする。(H28-22-2)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h28-22-2">解答・解説</button>
      </div>
    </section>

    <!-- 7 -->
    <section class="q" id="q-h25-07-uh13-06-03h09-10-3">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H25-07-ウ)(H13-06-03)(H09-10-3)</div>
          <p class="qtext">7　甲土地を所有するAが死亡し、その子であるB及びCのために相続の開始があった。Bが甲土地を単独で所有する旨の遺産分割協議が成立したが、Cは、Bに無断で、自己が甲土地を単独で所有する旨の所有権の移転の登記をした上で、甲土地をDに譲渡し、その旨の所有権の移転の登記をした。この場合において、Bは、Dに対し、甲土地を単独で所有している旨を主張することができる。(H25-07-ウ)(H13-06-03)(H09-10-3)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h25-07-uh13-06-03h09-10-3">解答・解説</button>
      </div>
    </section>

    <!-- 8 -->
    <section class="q" id="q-h17-08-o">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H17-08-オ)</div>
          <p class="qtext">8　甲土地の所有者Aが死亡し、その共同相続人であるB及びCは、遺産分割協議により甲土地をBが単独で相続することとしたが、登記名義はAのままであった。その後、遺産分割協議の存在を知らないCの債権者Dは、Cに代位して甲土地について相続を原因とする所有権の移転の登記をした上で、Cの持分(法定相続分)について差押えの登記をした。この場合、Bは、Dに対し、Cの法定相続分に相当する甲土地の持分の取得を対抗することができる。(H17-08-オ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h17-08-o">解答・解説</button>
      </div>
    </section>

    <!-- 9 -->
    <section class="q" id="q-h28-22-1">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H28-22-1)</div>
          <p class="qtext">9　Aは、その所有する甲土地をBに相続させる旨の遺言をした。Aが死亡した後、Cの債権者であるDは、甲土地につきB及びCが各2分の1の持分を有する旨の相続登記をした上でCの持分を差し押さえた。この場合に、Bは、Dに対し、登記なくして甲土地全部の所有権の取得を対抗することができない。なお、Aが死亡した当時、Aには子であるB及びCがいたが、他に親族はいなかったものとする。(H28-22-1)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h28-22-1">解答・解説</button>
      </div>
    </section>

    <!-- 10 -->
    <section class="q" id="q-h25-07-o">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H25-07-オ)</div>
          <p class="qtext">10　甲土地を所有するAが死亡し、その子であるB及びCのために相続の開始があった。Aは、甲土地について、Bの持分を4分の3、Cの持分を4分の1として相続させる旨の遺言をしたが、Cが、甲土地について、自己の持分を2分の1とする相続を原因とする所有権の移転の登記をしたところ、Cの債権者であるDが当該登記に係るCの持分を差し押さえた。この場合において、Dは、Bに対し、甲土地の2分の1の持分を差し押さえた旨を主張することができる。(H25-07-オ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h25-07-o">解答・解説</button>
      </div>
    </section>

    <!-- 11 -->
    <section class="q" id="q-r02-07-e">
      <div class="qhead">
        <div class="left">
          <div class="qid">(R02-07-エ)</div>
          <p class="qtext">11　甲土地を所有するAが死亡し、その相続人が子B及びCである場合において、Bの債権者Dが、B及びCが甲土地を共同相続したものとして代位による所有権の移転の登記をした上で、Bの持分を差し押さえてその旨の登記がされた後、Bが相続の放棄をしたときは、Cは、Dに対し、単独での甲土地の所有権の取得を対抗することができない。(R02-07-エ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-r02-07-e">解答・解説</button>
      </div>
    </section>

    <!-- 12 -->
    <section class="q" id="q-h28-22-3h06-18-ah04-14-i">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H28-22-3)(H06-18-ア)(H04-14-イ)</div>
          <p class="qtext">12　Aが死亡した後、Cが相続の放棄をした。Cの債権者であるDは、Aの遺産である甲土地につきB及びCが各2分の1の持分を有する旨の相続登記をした上でCの持分を差し押さえた。この場合に、Bは、Dに対し、登記なくして甲土地全部の所有権の取得を対抗することができない。なお、Aが死亡した当時、Aには、子であるB及びCがいたが、他に親族はいなかったものとする。(H28-22-3)(H06-18-ア)(H04-14-イ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h28-22-3h06-18-ah04-14-i">解答・解説</button>
      </div>
    </section>

    <!-- 13 -->
    <section class="q" id="q-h25-07-ah17-08-e">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H25-07-ア)(H17-08-エ)</div>
          <p class="qtext">13　甲土地を所有するAが死亡し、その子であるB及びCのために相続の開始があった。甲土地についての相続を原因とする所有権の移転の登記がされないままであったところ、Bが相続の放棄をしたが、Bの債権者であるDは、代位による甲土地についての相続を原因とする所有権の移転の登記をし、甲土地のBの持分を差し押さえた。この場合において、Cは、甲土地のB名義の持分について登記をしていなくても、Dに対し、甲土地を単独で所有している旨を主張することができる。(H25-07-ア)(H17-08-エ)</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h25-07-ah17-08-e">解答・解説</button>
      </div>
    </section>

    <!-- 14 -->
    <section class="q" id="q-h07-15-a">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H07-15-ア)</div>
          <p class="qtext">14　A所有の土地がAからBへ、BからCへと順次売却された場合における登記の請求権に関する次の記述のうち、判例の趣旨に照らして正しいものはどれか。(H07-15)ア AからBへ、BからCへ、それぞれ所有権移転の登記がされた場合において、AからBへの売買が無効であるときは、BからCへの売買が無効であっても、Bは、Cに対し、その登記の抹消を請求することができない。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h07-15-a">解答・解説</button>
      </div>
    </section>

    <!-- 15 -->
    <section class="q" id="q-h07-15-i">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H07-15-イ)</div>
          <p class="qtext">15　イ 所有権の登記名義が依然としてAにある場合には、Cは、Bの同意がなくても、Bに代位しAに対し、Bへの所有権移転登記手続を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h07-15-i">解答・解説</button>
      </div>
    </section>

    <!-- 16 -->
    <section class="q" id="q-h07-15-u">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H07-15-ウ)</div>
          <p class="qtext">16　ウ 所有権の登記名義が依然としてAにある場合であっても、Cは、Bに対し、BからCへの所有権移転登記手続を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h07-15-u">解答・解説</button>
      </div>
    </section>

    <!-- 17 -->
    <section class="q" id="q-h07-15-e">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H07-15-エ)</div>
          <p class="qtext">17　エ 所有権の登記名義が依然としてAにある場合には、Cは、Bの同意を得れば、Aに対し、AからCへの所有権移転登記手続を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h07-15-e">解答・解説</button>
      </div>
    </section>

    <!-- 18 -->
    <section class="q" id="q-h07-15-o">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H07-15-オ)</div>
          <p class="qtext">18　オ 所有権の登記名義が依然としてAにある場合には、Bは、BからCへの売買が無効のときに限り、Aに対し、Bへの所有権移転登記手続を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h07-15-o">解答・解説</button>
      </div>
    </section>

    <!-- 19 -->
    <section class="q" id="q-h06-16-1">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H06-16-1)</div>
          <p class="qtext">19　登記請求権に関する次の記述中、誤っているものはどれか。(H06-16)1 Bからその所有する土地を買い受けたAが、その土地をCに転売した場合には、Aは、Bに対し、BからAへの所有権移転登記を請求することができない。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h06-16-1">解答・解説</button>
      </div>
    </section>

    <!-- 20 -->
    <section class="q" id="q-h06-16-2">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H06-16-2)</div>
          <p class="qtext">20　2 A所有の土地について、B名義の所有権保存登記がされているときは、Aは、Bに対し、B名義の所有権保存登記の抹消を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h06-16-2">解答・解説</button>
      </div>
    </section>

    <!-- 21 -->
    <section class="q" id="q-h06-16-3">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H06-16-3)</div>
          <p class="qtext">21　3 Bがその所有する土地をAに売り渡して所有権移転登記をした場合において、売買契約が合意解除されたときは、Aは、Bに対し、BからAへの所有権移転登記の抹消を請求することができる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h06-16-3">解答・解説</button>
      </div>
    </section>

    <!-- 22 -->
    <section class="q" id="q-h06-16-4">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H06-16-4)</div>
          <p class="qtext">22　4 B所有の土地を賃借したAは、賃借権の登記をする特約をしていなければ、Bに対し、賃借権設定登記を請求することはできない。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h06-16-4">解答・解説</button>
      </div>
    </section>

    <!-- 23 -->
    <section class="q" id="q-h06-16-5">
      <div class="qhead">
        <div class="left">
          <div class="qid">(H06-16-5)</div>
          <p class="qtext">23　5 A所有の土地が、AからB、BからCに順次売買されて所有権移転登記がされた後、A・B間の売買契約が強迫を理由に取り消されたときは、Aは、Bに対し、AからBへの移転登記の抹消を請求できるほか、Cに対し、BからCへの移転登記の抹消を請求することもできる。</p>
          <div class="meta">
            <span class="pill">テキスト：
              <a href="pu26min15.html#A01-01">***</a>
            </span>
          </div>
        </div>
        <button class="btn" data-open="dlg-h06-16-5">解答・解説</button>
      </div>
    </section>

</div></main>
<!-- ========= dialogs ========= -->

<dialog id="dlg-h28-22-5h14-06-oh04-14-a">
  <div class="dlg-head"><div class="dlg-title">(H28-22-5)(H14-06-オ)(H04-14-ア) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>共同相続人の1人が不動産につき勝手に単独で相続をした旨の登記をし、これに基づいて不動産を第三者に譲渡した場合、他の共同相続人は自己の持分につき、登記なくして第三者に対抗することができる（最判昭38.2.22）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h09-10-1">
  <div class="dlg-head"><div class="dlg-title">(H09-10-1) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>共同相続人の1人が不動産につき勝手に単独で相続をした旨の登記をし、これに基づいて不動産を第三者に譲渡した場合、他の共同相続人は自己の持分につき、登記なくして第三者に対抗することができる（最判昭38.2.22）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h13-06-1h17-24-a">
  <div class="dlg-head"><div class="dlg-title">(H13-06-1)(H17-24-ア) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>Ｂの単独相続の登記はＡの持分に関する限り無権利の登記であり、登記に公信力のない結果、ＤもＡの持分に関しては権利を取得できない。よって、他の共同相続人Ａは自己の持分を登記なくして対抗し得るものと解される（最判昭38.2.22）。従って、全部の抹消を請求できるとする点で、本肢は誤っている。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h13-06-2">
  <div class="dlg-head"><div class="dlg-title">(H13-06-2) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>遺産分割によりＡは遡及的に甲土地の所有権を取得するが（民法<span class="mono">909条</span>本文）、第三者の権利を害することはできない（民法<span class="mono">909条</span>ただし書）。よって、遺産分割前にＢの持分を取得したＤに対して、遺産分割による権利取得を対抗できない。なお、この際のＤに関しては登記を必要とするのが通説である。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-r05-07-ah06-18-oh04-14-u">
  <div class="dlg-head"><div class="dlg-title">(R05-07-ア)(H06-18-オ)(H04-14-ウ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>相続による権利の承継は、遺産の分割によるものかどうかにかかわらず、次条〔注：民法<span class="mono">900条</span>〕及び第<span class="mono">901条</span>の規定により算定した相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。本記述のＢが、甲土地を単独で取得したことを第三者Ｄに対抗するには、登記が必要となるところ、Ｂは登記をしていない。よって、Ｂは、Ｄに対し、単独での甲土地の所有権の取得を対抗することができない。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h28-22-2">
  <div class="dlg-head"><div class="dlg-title">(H28-22-2) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>相続による権利の承継は、遺産の分割によるものかどうかにかかわらず、法定相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。よって、Ｂは、登記なくして甲土地全部の所有権の取得を対抗することができない。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h25-07-uh13-06-03h09-10-3">
  <div class="dlg-head"><div class="dlg-title">(H25-07-ウ)(H13-06-03)(H09-10-3) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>相続による権利の承継は、遺産の分割によるものかどうかにかかわらず、法定相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。よって、分割により生じた相続分と異なる権利を取得したＢは、その旨の登記がなければ、分割後に甲土地につき権利を取得したＤに対し、自己の権利の取得を主張することはできない。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h17-08-o">
  <div class="dlg-head"><div class="dlg-title">(H17-08-オ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>相続による権利の承継は、遺産の分割によるものかどうかにかかわらず、法定相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h28-22-1">
  <div class="dlg-head"><div class="dlg-title">(H28-22-1) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>相続による権利の承継は、法定相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。よって、登記をしていないＢは、甲土地全部の所有権の取得を対抗できない。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h25-07-o">
  <div class="dlg-head"><div class="dlg-title">(H25-07-オ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>相続による権利の承継は、法定相続分を超える部分については、登記、登録その他の対抗要件を備えなければ、第三者に対抗することができない（民法<span class="mono">899条の2</span>第1項）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-r02-07-e">
  <div class="dlg-head"><div class="dlg-title">(R02-07-エ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>相続放棄の効力（民法<span class="mono">939条</span>）は絶対的であり、相続の放棄がされると（民法<span class="mono">938条</span>）、何人に対しても、登記等なくして相続放棄の効力を生ずる（最判昭42.1.20）。よって、Ｂの債権者ＤがＢの持分を差し押さえてその旨登記された後であっても、Ｂが相続を放棄したときは、Ｃは、Ｄに対し、登記なくして単独での甲土地の所有権の取得を対抗することができる。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h28-22-3h06-18-ah04-14-i">
  <div class="dlg-head"><div class="dlg-title">(H28-22-3)(H06-18-ア)(H04-14-イ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>相続放棄によって、相続人は相続開始時に遡って相続開始がなかったこととなり、この効力は絶対的で、登記等なくしてその効力を生ずる（最判昭42.1.20）。本肢では、Ａの相続人であるＣは相続放棄をしており、Ａの遺産である甲土地は、初めからＢが単独で相続したことになり、この効力は登記なくして第三者であるＤに対抗することができる。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h25-07-ah17-08-e">
  <div class="dlg-head"><div class="dlg-title">(H25-07-ア)(H17-08-エ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>相続放棄によって、相続人は相続開始時に遡って相続開始がなかったこととなり、この効力は絶対的で、登記等なくしてその効力を生ずる（最判昭42.1.20）。本肢のＢは相続放棄をしており、民法<span class="mono">177条</span>の適用はなく、Ｂに対する差押えは無効であるため、Ｃは、甲土地のＢ名義の持分につき登記していなくとも、Ｄに対し、甲土地を単独で所有している旨を主張することができる。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h07-15-a">
  <div class="dlg-head"><div class="dlg-title">(H07-15-ア) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>権利変動の当事者となった者はその権利変動の過程において真実と符合しない無効の登記があるときは、たとえ既に物権を他に移転し、不動産の実質的権利者でないとしても、その登記の是正について登記名義人に協力を求めるいわゆる登記請求権を有する。そして、現に権利変動の原因たる法律行為をし、登記記録上法律行為の当事者として表示された者は、その法律行為がたまたま無効であった場合においても上記の登記請求権を有するものと解されている（最判昭36.4.28）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h07-15-i">
  <div class="dlg-head"><div class="dlg-title">(H07-15-イ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>大判明43.7.6。ＢＣ間の売買による登記は不動産登記法上、ＡＢ間の売買による登記を経由した後でなければすることができないため、ＡからＢへの登記にＢが協力しない場合は、Ｃは民法<span class="mono">423条</span>の規定により、Ｂに対する登記請求権を保全するため、Ｂに代位してＢのＡに対する登記請求権を行使することができると解されている（大判明43.7.6）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h07-15-u">
  <div class="dlg-head"><div class="dlg-title">(H07-15-ウ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>登記請求権の法的性質については、一元的に説明することが困難であるため、判例は、各場合に応じて多元的な説明をしている。それによると、登記請求権の発生原因は①実体的な物権変動がある場合、②当事者間に登記をする旨の特約がある場合、③登記が実体的な権利関係と一致しない場合の3つに分類することができる。Ｂから売買によって所有権を取得しているＣは、上記のうち、①及び②の観点からＢに対する登記請求権を有しているといえる。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h07-15-e">
  <div class="dlg-head"><div class="dlg-title">(H07-15-エ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>実体的な権利変動の過程と異なる移転登記を請求する権利は、当然には発生しないと解すべきであるから、ＡＢＣと順次に所有権が移転したのに登記名義は依然としてＡにある場合に、現に所有権を有するＣはＡに対し直接自己に移転登記すべき旨を請求することは原則として許されない。もっとも、既に中間省略登記がなされたことについては、判例は、これを無効となるものとはしていない（最判昭35.4.21）。この点、本記述においてＣは、ＡＢ双方の同意を得なければ中間省略登記をすることができないところ、Ａの同意があった旨は示されていない。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h07-15-o">
  <div class="dlg-head"><div class="dlg-title">(H07-15-オ) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>不動産の買主は、これを転売して所有権を失った後であっても、まず、自己の所有権の取得登記をして、その取得を完全ならしめ、その後で転得者に対し所有権移転登記の義務を履行するべきものであるため、転売によっても自己の登記請求権を失うものではない（大判大5.4.1）。このことは、転売が無効であったときでも、同様である（最判昭36.4.28）。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h06-16-1">
  <div class="dlg-head"><div class="dlg-title">(H06-16-1) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ng">解答：誤り</div>
    <p>不動産の買主は、これを転売して所有権を喪失した後であっても、まず、自己の所有権の取得の登記をし、その取得を完全なものとした上で、その後、転得者に対して所有権移転登記の義務を履行しなければならないので、転売により、自己の登記請求権を失うものではないとされている（大判大5.4.1）。よって、ＡはＢに対し、所有権移転登記を請求することができる。従って、本肢は誤っている。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h06-16-2">
  <div class="dlg-head"><div class="dlg-title">(H06-16-2) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>大判明43.5.24。不動産登記は、不動産に関する物権の得喪・変更の公示方法であるため、その物権の得喪・変更がないにもかかわらず、形式上、登記のみ存するような状態は不適法であり、このために権利を侵害されるおそれのある物権者はその登記の抹消を請求することができる（大判明43.5.24）。よって、ＡはＢ名義の所有権保存登記の抹消を請求することができる。従って、本肢は正しい。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h06-16-3">
  <div class="dlg-head"><div class="dlg-title">(H06-16-3) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>最判昭36.11.24。真実の権利関係に合致しない登記があるときは、その登記の当事者の一方は他の当事者に対し、それぞれ登記をして真実に合致せしめることを内容とする登記請求権を有するとともに、他の当事者はこの登記請求に応じて登記を真実に合致せしめることに協力する義務を負うものとされ、土地の売買契約が合意解除された場合、買主は、所有権移転登記の抹消登記に協力する義務があるとされている（最判昭36.11.24）。従って、本肢は正しい。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h06-16-4">
  <div class="dlg-head"><div class="dlg-title">(H06-16-4) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>大判大10.7.11。不動産の賃借人は賃貸借の登記をする旨の特約がない場合は、賃貸人に対して賃借権設定登記を請求することはできない（大判大10.7.11）。従って、本肢は正しい。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<dialog id="dlg-h06-16-5">
  <div class="dlg-head"><div class="dlg-title">(H06-16-5) 解答・解説</div><button class="btn" data-close>閉じる</button></div>
  <div class="dlg-body">
    <div class="badge ok">解答：正しい</div>
    <p>強迫を原因として契約が取り消される（民法<span class="mono">96条</span>1項）とその契約は初めから無効であったことになる（民法<span class="mono">121条</span>）。そして、真実の権利関係に合致しない登記があるときは、その登記の当事者の一方は他の当事者に対し、それぞれ登記をして真実に合致せしめることを内容とする登記請求権を有するとともに、他の当事者はこの登記請求に応じて登記を真実に合致せしめることに協力する義務を負う（最判昭36.11.24。）よって、Ａは、Ｂに対して、抹消登記を請求することができる。また、ＡＢ間の契約が強迫を理由として取り消されるとＢＣ間の売買も否定されることから、ＡはＣに対しても登記の抹消を請求することができる。従って、本肢は正しい。</p>
  </div>
  <div class="dlg-foot"><button class="btn" data-close>閉じる</button></div>
</dialog>

<script>
  const STORAGE_KEY = 'steps::' + location.pathname;
  function loadSteps(){ try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); } catch(e){ return {}; } }
  function saveSteps(obj){ localStorage.setItem(STORAGE_KEY, JSON.stringify(obj)); }
  function getAllQuestionIds(){ return Array.from(document.querySelectorAll('section.q[id]')).map(sec => sec.id); }
  function clampLevel(v){ v = Number(v || 0); if (v < 0) return 0; if (v > 2) return 2; return v; }
    function renderStep(btn, level, cardEl){
      btn.dataset.level = String(level);
      btn.textContent = (level === 0) ? '' : (level === 1 ? '済' : '再');
      btn.setAttribute('aria-pressed', level > 0 ? 'true' : 'false');
      btn.setAttribute('aria-label', `チェック段階 ${level}`);
      // ★ 起動時は btn.closest が効かないことがあるので card を優先
      const card = cardEl || btn.closest('.q');
      if (card){
        card.classList.remove('lv1');
        if (level === 1) card.classList.add('lv1');
      }
    }
  // ===== font-size (buttons only) =====
  const FONT_KEY = 'baseFontPx::' + location.pathname;
  const FONT_MIN = 12, FONT_MAX = 24, FONT_STEP = 1, FONT_DEFAULT = 16;
  function clampFont(n){
    n = Number(n);
    if (!Number.isFinite(n)) n = FONT_DEFAULT;
    return Math.max(FONT_MIN, Math.min(FONT_MAX, n));
  }
  function getCurrentFont(){
    return parseInt(
      getComputedStyle(document.documentElement)
        .getPropertyValue('--base-font'),
      10
    ) || FONT_DEFAULT;
  }
  function applyFont(px, save){
    px = clampFont(px);
    document.documentElement.style.setProperty('--base-font', px + 'px');
    if (save){
      try { localStorage.setItem(FONT_KEY, String(px)); } catch(e){}
    }
  }
  function loadFont(){
    let saved = null;
    try { saved = localStorage.getItem(FONT_KEY); } catch(e){}
    const px = saved ? parseInt(saved, 10) : FONT_DEFAULT;
    applyFont(px, false);
  }
  function ensureHeaderTools(){
    const wrap = document.querySelector('header .wrap');
    if (!wrap) return;
    // 既に2段構造なら何もしない
    if (wrap.querySelector('.hrow1') && wrap.querySelector('.hrow2')) return;
    // 既存要素を退避（h1 と a）
    const h1 = wrap.querySelector('h1');
    const a  = wrap.querySelector('a');
    // 中身を組み立て直す
    wrap.innerHTML = '';
    // 1段目：タイトル左／テキストへ右
    const row1 = document.createElement('div');
    row1.className = 'hrow1';
    if (h1) row1.appendChild(h1);
    if (a)  row1.appendChild(a);
    wrap.appendChild(row1);
    // 2段目：文字サイズボタン＋全操作
    const row2 = document.createElement('div');
    row2.className = 'hrow2';
    // 文字サイズ（見た目だけ。実際にフォントサイズ変更するなら後でJS追加）
    const size = document.createElement('div');
    size.className = 'hsize';
    const bDec = document.createElement('button');
    bDec.type = 'button';
    bDec.className = 'btn';
    bDec.id = 'btn-font-dec';
    bDec.textContent = '-';
    const bStd = document.createElement('button');
    bStd.type = 'button';
    bStd.className = 'btn';
    bStd.id = 'btn-font-std';
    bStd.textContent = 'Aa';
    const bInc = document.createElement('button');
    bInc.type = 'button';
    bInc.className = 'btn';
    bInc.id = 'btn-font-inc';
    bInc.textContent = '+';
    size.appendChild(bDec);
    size.appendChild(bStd);
    size.appendChild(bInc);
    row2.appendChild(size);
    // 全操作
    const bClear = document.createElement('button');
    bClear.type = 'button';
    bClear.className = 'btn';
    bClear.id = 'btn-clear';
    bClear.textContent = 'reset';
    const bAll1 = document.createElement('button');
    bAll1.type = 'button';
    bAll1.className = 'btn';
    bAll1.id = 'btn-all1';
    bAll1.textContent = '全済';
    const bAll2 = document.createElement('button');
    bAll2.type = 'button';
    bAll2.className = 'btn';
    bAll2.id = 'btn-all2';
    bAll2.textContent = '全再';
    row2.appendChild(bClear);
    row2.appendChild(bAll1);
    row2.appendChild(bAll2);
    wrap.appendChild(row2);
  }
  function ensureFontTools(tools){
    if (document.getElementById('fs-up')) return;
    const down = document.createElement('button');
    down.type = 'button';
    down.className = 'btn small';
    down.id = 'fs-down';
    down.textContent = '-';
    down.addEventListener('click', () =>
      applyFont(getCurrentFont() - FONT_STEP, true)
    );
    const reset = document.createElement('button');
    reset.type = 'button';
    reset.className = 'btn small';
    reset.id = 'fs-reset';
    reset.textContent = 'Aa';
    reset.addEventListener('click', () =>
      applyFont(FONT_DEFAULT, true)
    );
    const up = document.createElement('button');
    up.type = 'button';
    up.className = 'btn small';
    up.id = 'fs-up';
    up.textContent = '+';
    up.addEventListener('click', () =>
      applyFont(getCurrentFont() + FONT_STEP, true)
    );
    tools.prepend(up);
    tools.prepend(reset);
    tools.prepend(down);
  }
  function updateProgress(){
    const all = getAllQuestionIds();
    const saved = loadSteps();
    let c1 = 0, c2 = 0;
    all.forEach(id => {
      const lv = clampLevel(saved[id]);
      if (lv >= 1) c1++;
      if (lv >= 2) c2++;
    });
    const prog = document.getElementById('prog');
    if (prog) prog.textContent = `1以上:${c1}/${all.length} ・ 2:${c2}/${all.length}`;
  }
  function ensureStepButtons(){
    const saved = loadSteps();
    document.querySelectorAll('section.q[id]').forEach(sec => {
      const qid = sec.id;
      const head = sec.querySelector('.qhead');
      const left = sec.querySelector('.left');
      if (!head || !left) return;
      // 既に生成済みならスキップ
      if (head.querySelector('button.qstep')) return;
      // ===== チェックUI作成 =====
      const wrap = document.createElement('div');
      wrap.className = 'qcheck';
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'qstep';
      btn.setAttribute('data-qid', qid);
      wrap.appendChild(btn);
      // ===== 挿入（← 先にDOMへ入れるのが重要） =====
      left.prepend(wrap);
      // ===== 保存済みレベル取得 =====
      const level = clampLevel(saved[qid]);
      // ===== 描画（card要素を渡す） =====
      renderStep(btn, level, sec);
    });
    updateProgress();
  }
  function setAllLevels(level){
    const all = getAllQuestionIds();
    const saved = loadSteps();
    all.forEach(id => { saved[id] = clampLevel(level); });
    saveSteps(saved);
    document.querySelectorAll('button.qstep').forEach(btn => {
      renderStep(btn, clampLevel(level));
    });
    updateProgress();
  }
  function cycleLevel(current){ return (current + 1) % 3; }
  document.addEventListener('click', (e) => {
    if (e.target.closest('#btn-clear')) { setAllLevels(0); return; }
    if (e.target.closest('#btn-all1')) { setAllLevels(1); return; }
    if (e.target.closest('#btn-all2')) { setAllLevels(2); return; }
    const stepBtn = e.target.closest('button.qstep');
    if (stepBtn){
      const qid = stepBtn.getAttribute('data-qid');
      const saved = loadSteps();
      const cur = clampLevel(saved[qid]);
      const next = cycleLevel(cur);
      saved[qid] = next;
      saveSteps(saved);
      renderStep(stepBtn, next);
      updateProgress();
      return;
    }
    const openBtn = e.target.closest('[data-open]');
    if (openBtn) { const dlg = document.getElementById(openBtn.getAttribute('data-open')); if (dlg) dlg.showModal(); return; }
    const closeBtn = e.target.closest('[data-close]');
    if (closeBtn) {
    const dlg = closeBtn.closest('dialog');
    if (dlg) dlg.close(); return; } });
  document.querySelectorAll('dialog').forEach(d =>
    d.addEventListener('close', () => {
      const a = document.activeElement;
      if (a && a.blur) a.blur();
    })
  );
  loadFont();
  ensureHeaderTools();
  ensureStepButtons();
  updateProgress();
</script>
</body></html>